<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>molding</title>

        <!-- Meta -->
        <meta charset="utf-8"></meta>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui"></meta>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />

        <!-- Favicon icon --> 
        <link rel="icon" href="../Modulos/IMAGENES/molding logo.jpeg" type="image/x-icon"></link>
        <!-- fontawesome icon -->
        <link rel="stylesheet" href="../lite/assets/fonts/fontawesome/css/fontawesome-all.min.css"></link>
        <!-- animation css -->
        <link rel="stylesheet" href="../lite/assets/plugins/animation/css/animate.min.css"></link>

        <!-- vendor css -->
        <link rel="stylesheet" href="../lite/assets/css/style.css"></link>
        <!-- cdn boostrap -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous"></link>
        <!-- cdn jqr -->
        <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.3.6/css/buttons.dataTables.min.css"/>
        <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.css" />


    </h:head>
    <h:body>



        <!-- [ navigation menu ] start -->
        <nav class="pcoded-navbar menupos-fixed menu-light brand-blue ">
            <div class="navbar-wrapper ">
                <div class="navbar-brand header-logo">
                    <a href="index.html" class="b-brand">
                        <img src="../Modulos/IMAGENES/molding logo.jpeg" alt="" width="50px" class="logo images"></img>
                        <img src="#" alt="" class="logo-thumb images"></img>
                    </a>
                    <a class="mobile-menu" id="mobile-collapse" href="#!"><span></span></a>
                </div>
                <div class="navbar-content scroll-div">
                    <ul class="nav pcoded-inner-navbar">
                        <li class="nav-item pcoded-menu-caption">
                            <label>Navigation</label>
                        </li>
                        <li class="nav-item">
                            <a href="tableroAlmacenista.xhtml" class="nav-link"><span class="pcoded-micon"><i class="feather icon-home"></i></span><span class="pcoded-mtext">Tablero Administrador</span></a>
                        </li>
                        <li class="nav-item pcoded-menu-caption">
                            <label>Bienvenido al  sistema molding</label>
                        </li>


                        <!--  <a href="#!" class="nav-link">
                           
                            <span class="pcoded-micon"><i class="feather icon-box">
                                </i></span><span class="pcoded-mtext">Modulos
                                </span>
                        </a>
                        <ul class="pcoded-submenu">
                            <li class=""><a href="bc_button.html" class="">ontratistas</a></li>
                            <li class=""><a href="bc_badges.html" class="">Inventarios</a></li>
                            <li class=""><a href="bc_breadcrumb-pagination.html" class="">Proveedores</a></li>
                            <li class=""><a href="bc_collapse.html" class="">clientes</a></li>

                        </ul> -->

                        <li class="nav-item pcoded-menu-caption">
                            <label>Modulos</label>
                        </li>

                        <li class="nav-item">
                            <a href="Contratistas.xhtml" class="nav-link"><span class="pcoded-micon"><i class="feather icon-align-justify"></i></span><span class="pcoded-mtext">Contratistas</span></a>
                        </li>
                        <li class="nav-item">
                            <a href="Proveedores.xhtml" class="nav-link"><span class="pcoded-micon"><i class="feather icon-align-justify"></i></span><span class="pcoded-mtext">Proveedores</span></a>
                        </li>
                        <li class="nav-item">
                            <a href="Inventarios.xhtml" class="nav-link"><span class="pcoded-micon"><i class="feather icon-align-justify"></i></span><span class="pcoded-mtext">Inventarios</span></a>
                        </li>
                        <li class="nav-item">
                            <a href="Clientes.xhtml" class="nav-link"><span class="pcoded-micon"><i class="feather icon-align-justify"></i></span><span class="pcoded-mtext">Clientes</span></a>
                        </li>
                        <li class="nav-item pcoded-menu-caption">
                            <label></label>
                        </li>


                    </ul>

                </div>
            </div>
        </nav>
        <!-- [ navigation menu ] end -->

        <!-- [ Header ] start -->
        <header class="navbar pcoded-header navbar-expand-lg navbar-light headerpos-fixed">
            <div class="m-header">
                <a class="mobile-menu" id="mobile-collapse1" href="#!"><span></span></a>
                <a href="index.html" class="b-brand">
                    <img src="../Modulos/IMAGENES/molding logo.jpeg" alt="" class="logo images"></img>
                    <img src="../Modulos/IMAGENES/molding logo.jpeg" alt="" class="logo-thumb images"></img>

                </a>
            </div>
            <a class="mobile-menu" id="mobile-header" href="#!">
                <i class="feather icon-more-horizontal"></i>
            </a>
            <div class="collapse navbar-collapse">
                <a href="#!" class="mob-toggler"></a>
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item">
                        <div class="main-search open">
                            <div class="input-group">
                                <input type="text" id="m-search" class="form-control" placeholder="Search . . ."></input>
                                <a href="#!" class="input-group-append search-close">
                                    <i class="feather icon-x input-group-text"></i>
                                </a>
                                <span class="input-group-append search-btn btn btn-primary">
                                    <i class="feather icon-search input-group-text"></i>
                                </span>
                            </div>
                        </div>
                    </li>
                </ul>
                <ul class="navbar-nav ml-auto">
                    <li>
                        <div class="dropdown">
                            <a class="dropdown-toggle" href="#" data-toggle="dropdown"><i class="icon feather icon-bell"></i></a>
                            <div class="dropdown-menu dropdown-menu-right notification">
                                <div class="noti-head">
                                    <h6 class="d-inline-block m-b-0">Notificaciones</h6>
                                    <div class="float-right">
                                        <a href="#!" class="m-r-10">mark as read</a>
                                        <a href="#!">clear all</a>
                                    </div>
                                </div>
                                <ul class="noti-body">
                                    <li class="n-title">
                                        <p class="m-b-0">Nuevo</p>
                                    </li>
                                    <li class="notification">
                                        <div class="media">
                                            <img class="img-radius" src="../assets/images/user/avatar-1.jpg" alt="Generic placeholder image"></img>
                                            <div class="media-body">
                                                <p><strong>John Doe</strong><span class="n-time text-muted"><i class="icon feather icon-clock m-r-10"></i>5 min</span></p>
                                                <p>New ticket Added</p>
                                            </div>
                                        </div>
                                    </li>
                                    <li class="n-title">
                                        <p class="m-b-0">EARLIER</p>
                                    </li>
                                    <li class="notification">
                                        <div class="media">
                                            <img class="img-radius" src="../assets/images/user/avatar-2.jpg" alt="Generic placeholder image"></img>
                                            <div class="media-body">
                                                <p><strong>Joseph William</strong><span class="n-time text-muted"><i class="icon feather icon-clock m-r-10"></i>10 min</span></p>
                                                <p>Prchace New Theme and make payment</p>
                                            </div>
                                        </div>
                                    </li>
                                    <li class="notification">
                                        <div class="media">
                                            <img class="img-radius" src="../assets/images/user/avatar-3.jpg" alt="Generic placeholder image"></img>
                                            <div class="media-body">
                                                <p><strong>Sara Soudein</strong><span class="n-time text-muted"><i class="icon feather icon-clock m-r-10"></i>12 min</span></p>
                                                <p>currently login</p>
                                            </div>
                                        </div>
                                    </li>
                                    <li class="notification">
                                        <div class="media">
                                            <img class="img-radius" src="../assets/images/user/avatar-1.jpg" alt="Generic placeholder image"></img>
                                            <div class="media-body">
                                                <p><strong>Joseph William</strong><span class="n-time text-muted"><i class="icon feather icon-clock m-r-10"></i>30 min</span></p>
                                                <p>Prchace New Theme and make payment</p>
                                            </div>
                                        </div>
                                    </li>

                                </ul>
                                <div class="noti-footer">
                                    <a href="#!">show all</a>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li>
                        <div class="dropdown drp-user">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                <i class="icon feather icon-settings"></i>
                            </a>
                            <div class="dropdown-menu dropdown-menu-right profile-notification">
                                <div class="pro-head">
                                    <img src="../assets/images/user/avatar-1.jpg" class="img-radius" alt="User-Profile-Image"></img>
                                    <span>John Doe</span>
                                    <a href="auth-signin.html" class="dud-logout" title="Logout">
                                        <i class="feather icon-log-out"></i>
                                    </a>
                                </div>
                                <ul class="pro-body">
                                    <li><a href="#!" class="dropdown-item"><i class="feather icon-settings"></i> Settings</a></li>
                                    <li><a href="#!" class="dropdown-item"><i class="feather icon-user"></i> Profile</a></li>
                                    <li><a href="message.html" class="dropdown-item"><i class="feather icon-mail"></i> My Messages</a></li>
                                    <li><a href="auth-signin.html" class="dropdown-item"><i class="feather icon-lock"></i> Lock Screen</a></li>
                                </ul>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </header>
        <!-- [ Header ] end -->

        <!-- [ Main Content ] start -->


        <div class="pcoded-main-container">
            <div class="pcoded-wrapper">
                <div class="pcoded-content">
                    <div class="pcoded-inner-content">
                        <div class="main-body">
                            <div class="page-wrapper">
                                <!-- [ breadcrumb ] start -->
                                <div class="page-header">
                                    <div class="page-block">
                                        <div class="row align-items-center">
                                            <div class="col-md-12">
                                                <div class="page-header-title">
                                                    <h5>Contratistas</h5>
                                                </div>
                                                <ul class="breadcrumb">
                                                    <li class="breadcrumb-item"><a href="index.html"><i class="feather icon-home"></i></a></li>
                                                    <li class="breadcrumb-item"><a href="#!">Analytics Dashboard</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- [ breadcrumb ] end -->
                                <!-- [ Main Content ] start -->

                                <div class="card">
                                    <div class="card-header">
                                        <h5>Opciones</h5>
                                    </div>
                                    <div class="card-body">

                                        <button type="button" class="btn btn-success"  data-bs-toggle="modal" data-bs-target="#staticBackdrop">Registrar Contratistas</button>
                                    </div>
                                </div>



                                <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h1 class="modal-title fs-5" id="staticBackdropLabel">Registrar contratista</h1>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                <h:form >
                                                    <div class="row">
                                                        <div class="col-12">
                                                            <div class="form-floating">
                                                                <h:inputText value="#{controllerContratistas.contratista.rut}" id="rut" class="form-control"  />
                                                                <label for="rut">Rut</label>
                                                            </div>
                                                        </div>
                                                        <div class="col-12 mt-3">
                                                            <div class="form-floating">
                                                                <h:inputText value="#{controllerContratistas.contratista.nombreContratista}" id="nombre" class="form-control" />
                                                                <label for="nombre">Nombre Contratista</label>
                                                            </div>
                                                        </div>
                                                        <div class="col-12 mt-3">

                                                            <div class="form-floating">
                                                                <h:inputText value="#{controllerContratistas.contratista.telefono}" id="telefono" class="form-control" />
                                                                <label for="telefono">Telefono</label>
                                                            </div>
                                                        </div>


                                                        <div class="col-12 mt-3">
                                                            <div class="form-floating">
                                                                <h:inputText value="#{controllerContratistas.contratista.correo}" id="correo" class="form-control" />
                                                                <label for="correo">Correo</label>
                                                            </div>
                                                        </div>

                                                        <div class="col-12 mt-3">
                                                            <div class="form-floating">
                                                                <h:inputText value="#{controllerContratistas.contratista.direccionObra}" id="descripcion" class="form-control" />
                                                                <label for="descripcion">Direccion obra</label>
                                                            </div>
                                                        </div>


                                                        <div class="col-12 mt-3">
                                                            <div class="form-floating">
                                                                <h:inputText value="#{controllerContratistas.contratista.fechaContrato}" id="fecha" class="form-control" />
                                                                <label for="fecha">Fecha de contrato</label>
                                                            </div>
                                                        </div>
                                                        <div class="col-12 mt-3">
                                                            <div class="form-floating">
                                                                <h:inputText value="#{controllerContratistas.contratista.valorContrato}" id="valor" class="form-control" />
                                                                <label for="valor">Valor del contrato</label>
                                                            </div>
                                                        </div>


                                                        <div class="d-grid gap-2" style="padding-top: 15px">
                                                            <h:form>
                                                                <h:commandButton action="#{controllerContratistas.create()}" class="btn btn-primary" value="Guardar"></h:commandButton>
                                                                <p>#{controllerContratistas.mensaje}</p>
                                                            </h:form>

                                                        </div>


                                                    </div>



                                                </h:form>
                                            </div>

                                        </div>
                                    </div>
                                </div><!-- fin del modal -->










                                <div class="card">
                                    <div class="card-body table-border-style">
                                        <div class="table-responsive">

                                            <h1><h:outputText value="Contratistas"/></h1>
                                            <h:dataTable id="example" value="#{controllerContratistas.ALLContratistas}" var="item" class="table" >
                                                <h:column>
                                                    <f:facet name="header">id</f:facet>

                                                   

                                                    <h:outputText value="#{item.idcontratistas}"/>
                                                </h:column>

                                                <h:column>

                                                    <f:facet name="header">rut</f:facet>

                                                    <h:outputText value="#{item.rut}"/>
                                                </h:column>
                                                <h:column>
                                                    <f:facet name="header"> Nombre contratista</f:facet>

                                                    

                                                    <h:outputText value="#{item.nombreContratista}"/>
                                                </h:column>
                                                <h:column>

                                                    <f:facet name="header">Fecha de Contrato</f:facet>

                                                    <h:outputText value="#{item.fechaContrato}"/>
                                                </h:column>
                                                <h:column>

                                                    <f:facet name="header">Teléfono</f:facet>

                                                    <h:outputText value="#{item.telefono}"/>
                                                </h:column>
                                                <h:column>

                                                   <f:facet name="header">Direccion de obra</f:facet>
                                                    <h:outputText value="#{item.direccionObra}"/>
                                                </h:column>
                                                <h:column>

                                                    <f:facet name="header">Correo</f:facet>

                                                    <h:outputText value="#{item.correo}"/>
                                                </h:column>
                                                <h:column>

                                                    <f:facet name="header">Valor del contrato</f:facet>

                                                    <h:outputText value="#{item.valorContrato}"/>
                                                </h:column>
                                                <h:column>
                                                    <h:form>
                                                        <h:commandButton action="#{controllerContratistas.eliminar(item.idcontratistas)}" class="btn btn-danger" value="Eliminar"></h:commandButton> 
                                                        <h:commandButton class="btn btn-warning" action="ActualizarContratistas.xhtml" value="Actualizar" ></h:commandButton>
                                                    </h:form>

                                                </h:column>

                                            </h:dataTable>

                                        </div>
                                    </div>

                                </div>
                                <!-- [ Main Content ] end -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- [ Main Content ] end -->

        <!-- Warning Section start -->


        <!-- Warning Section Ends -->

        <!-- Required Js -->
        <script src="../assets/js/vendor-all.min.js"></script>
        <script src="../assets/plugins/bootstrap/js/bootstrap.min.js"></script>
        <script src="../assets/js/pcoded.min.js"></script>
        <!-- scripts de bootstrap -->
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js" integrity="sha384-IDwe1+LCz02ROU9k972gdyvl+AESN10+x7tBKgc9I5HFtuNz0wWnPclzo6p9vxnk" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
        <!-- fin de scripts -->


        <!-- cdn jquery -->
        <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
        <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
        <script src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>


        <script >
            $(document).ready(function () {
                $('#example').DataTable({

                    buttons: [
                        {
                            extend: 'copy',
                            text: 'Copy to clipboard'
                        },
                        'excel',
                        'pdf'
                    ]

                });
            });
        </script>
        <!-- fin cdn -->


    </h:body>
</html>

